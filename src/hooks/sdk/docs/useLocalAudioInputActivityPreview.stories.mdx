<Meta title="SDK Hooks/useLocalAudioInputActivityPreview" />

# useLocalAudioInputActivityPreview

The `useLocalAudioInputActivityPreview` hook applies scale transformation to the HTML element passed by reference showing the microphone activity from the currently selected audio input.

Alternatively, you can pass a custom callback that receives a decimal value based on the current audio input. If you're using a custom callback, keep in mind that it can be called in high-frequency. We recommend keeping it out of your React rendering, or at minimum, in a leaf component.

You can use this hook to develop a microphone activity preview component.

## Parameters

This hook accepts three parameters:

- `elementRef` - Reference to HTML element
- `scaleDirection`: `TransformScaleDirection` - `horizontal`
- `cb: (decimal: number) => void` - Optional callback to perform your own logic based on the current audio activity decimal

`TransformScaleDirection` type

```javascript
type TransformScaleDirection = 'horizontal' | 'vertical';
```

## Importing

```javascript
import { useLocalAudioInputActivityPreview } from 'amazon-chime-sdk-component-library-react';
```

## Usage

The hook depends on the `AudioVideoProvider`. If you are using `MeetingProvider`, it is rendered by default.

```jsx
import React, { useRef } from 'react';
import { MeetingProvider, useLocalAudioInputActivityPreview } from 'amazon-chime-sdk-component-library-react';

const App = () => (
  <MeetingProvider>
    <MicrophoneActivityPreview />
    <CustomMicActivityPreview />
  </MeetingProvider>
);

const MicrophoneActivityPreview = () => {
  const elementRef = useRef<HTMLDivElement>();
  useLocalAudioInputActivityPreview(elementRef);

  return <div ref={elementRef}></div>;
}

const CustomMicActivityPreview = () => {
  const callback = (decimal) => {
    // Custom logic here
  }

  useLocalAudioInputActivityPreview(null, null, callback);

  ...
}
```

### Dependencies

- `MeetingProvider`
- `AudioVideoProvider`, If you are using `MeetingProvider`, `AudioVideoProvider` is rendered by default
- `useAudioInputs`
